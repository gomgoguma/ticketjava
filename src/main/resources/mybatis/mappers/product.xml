<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="product">

	<select id="getProductList" resultType="productVo">
		<![CDATA[
			select  	prod_no prodNo,
			        	t.theatername theaterName,
			        	prodname prodName,
	                    to_char(beginshow, 'YYYY-MM-DD') beginShow,
	                    to_char(endshow, 'YYYY-MM-DD') endShow,
			        	status status
			        
			from    	product p,
			        	theater t,
			        	hall h
			where   	p.hall_no = h.hall_no
			       	and h.theater_no = t.theater_no
		
		]]>
	</select>

	<!-- product 테이벌 파일 추가 -->
	<select id="productUpload" resultType="productVo">
		<![CDATA[
			insert into 	product 
			VALUES 		(seq_prod_no.nextval,
						#{userNo},
						#{halNo},
						#{prodName},
						#{prodType},
						#{beginShow},
						#{endShow},
						#{beginRez},
						#{endRez},
						#{showTime},
						#{viewTime},
						#{viewGrade},
						#{notice},
						#{cancelInfo},
						#{status},
						#{posterPath}
						)	
		]]>
	</select>



</mapper>