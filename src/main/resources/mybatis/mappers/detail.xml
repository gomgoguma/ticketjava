<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="detail">

	<!-- detail테이블 파일 추가 -->
	<!-- <insert id="detailUpload" parameterType="DetailVo"> -->
	<!-- <![CDATA[ -->
	<!-- insert into detail (DETAIL_NO, prodpath, castingpath, addedpath) -->
	<!-- values (seq_detail_no.nextval, #{prodPath}, #{castingPath}, #{addedPath}) -->
	<!-- ]]> -->
	<!-- </insert> -->


	<select id="getDetail" parameterType="DetailVo" resultType="DetailVo">
		<![CDATA[
			select			detail_no detailNo, 
							prod_no prodNo, 
							prodpath, 
							castingpath, 
							addedpath
			from 			detail
			where 			prod_no= #{prodNo}
		]]>
	</select>

	<!-- 공연 이미지파일 추가 <<<<< 공연 정보 -->
	<insert id="prodAdd" parameterType="DetailVo">
		<![CDATA[
			insert into 	detail 	(detail_no,
								prod_no,
								prodpath)
								
						values 	(seq_detail_no.nextval,
								#{prodNo},
								#{prodPath})
		]]>
	</insert>

	<!-- 공연 이미지파일 업데이트 <<<<< 캐스팅 정보 -->
	<update id="castingAdd" parameterType="ProductVo">
		<![CDATA[
		update 	detail
		set 		castingpath = #{castingPath}
		where 	detail_no = #{detailNo}
		]]>
	</update>

	<!-- 공연 이미지파일 추가 <<<<< 부가 정보 -->
	<update id="addedAdd" parameterType="ProductVo">
		<![CDATA[
		update 	detail
		set 		addedpath = #{addedPath}
		where 	detail_no = #{detailNo}
		]]>
	</update>




</mapper>